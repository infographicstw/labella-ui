$(document).ready(function(){var e,t,n,r,a,i;return $("#data").val("time,name\n1977/4/25,A New Hope\n1980/4/17,The Empire Strikes Back\n1984/4/25,Return of the Jedi\n1999/4/19,The Phantom Menace\n2002/4/16,Attack of the Clones\n2005/4/19,Revenge of the Sith\n2015/11/18,The Force Awakens"),e=[],t=document.body.getBoundingClientRect(),d3.select("#svg").attr({width:t.width-40,height:"300px"}),n=d3.scale.ordinal().range(["#65ad38","#efb639","#e02d1f","#771d18","#333333"]),r=function(){var r;return $("#svg").html(""),r=new d3KitTimeline("#svg",{direction:"down",layerGap:20,initialWidth:t.width-60,initialHeight:t.height-40,labella:{maxPos:t.width-160},labelBgColor:function(e){return n(e.name)},linkColor:function(e){return d3.rgb(n(e.name)).darker().toString()},dotColor:function(e){return d3.rgb(n(e.name)).darker().toString()},labelTextColor:function(e){var t;return t=d3.hsl(n(e.name)),t.l<.55?"#fff":"#333"},textFn:function(e){return e.time.getFullYear()+" - "+e.name}}),e.filter(function(e){return e.time&&e.name}).map(function(e){return e.time=new Date(e.time)}),r.data(e).resizeToFit(),d3.select(".main-layer").attr({transform:"translate(0, 20)"})},a=function(){var t,n;return t=$("#data").val().trim(),n=[],Papa.parse(t||"",{worker:!0,header:!0,step:function(e){var t;return t=e.data,n=n.concat(t)},complete:function(){return e=n,r()}})},$("#data").on("change",a),$("#data").on("keydown",a),$("#data").on("keypress",a),a(),ldColorPicker.init(),i=new ldColorPicker(document.getElementById("cpbtn"),{"class":"left",palette:["#65ad38","#efb639","#e02d1f","#771d18","#333333"],onpalettechange:function(e){return n=d3.scale.ordinal().range(e.colors.map(function(e){return e.hex})),r()}})});